openapi: 3.1.0
info:
  title: Gmail Skill
  description: A VertexGraph skill to access user's Gmail account.
  version: 1.0.0
servers:
  - url: $skillhost
paths:                
### --------------------------------------------------------------------------- 
  $skillapproot/messages/query:
    post:
      title: Query Emails
      operationId: QueryEmails
      summary: Search for email messages in the user's Gmail account.
      responses:
        "200":
          description: OK  
          content:        
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailsResponse'    
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailsResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailsResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchFilters"
        required: true      
### --------------------------------------------------------------------------- 
  $skillapproot/threads/query:
    post:
      title: Query Email Threads
      operationId: QueryEmailThreads
      summary: Search for email threaded messages in the user's mailbox.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailThreadsResponse'       
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailThreadsResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryEmailThreadsResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchFilters"
        required: true          
### --------------------------------------------------------------------------- 
  $skillapproot/messages/send:
    post:
      title: Send Email
      operationId: SendEmail
      summary: Sends an email message.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'    
        "400":
          description: Bad Request.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendEmailRequest"
        required: true       
### --------------------------------------------------------------------------- 
  $skillapproot/messages/reply:
    post:
      title: Reply to an email
      operationId: ReplyEmail
      summary: Replies to an email message if you know the message Id from a QueryEmailsResponse.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'    
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReplyToEmailRequest"  
        required: true    
### --------------------------------------------------------------------------- 
  $skillapproot/messages/query_reply:
    post:
      title: Query and Reply to emails
      operationId: QueryAndReplyToEmails
      summary: Search for one or more emails and sends a reply message.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'    
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QueryAndReplyToEmailsRequest"  
        required: true     
### --------------------------------------------------------------------------- 
  $skillapproot/messages/forward:
    post:
      title: Forward an email
      operationId: ForwardEmail
      summary: Forwards an email message if you know the message Id from a QueryEmailsResponse.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'    
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForwardEmailRequest"  
        required: true            
### --------------------------------------------------------------------------- 
  $skillapproot/messages/query_forward:
    post:
      title: Query and Forward emails
      operationId: QueryAndForwardEmails
      summary: Search for one or more emails and forwards the message(s) to other people.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'    
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QueryAndForwardEmailsRequest"  
        required: true    
### ---------------------------------------------------------------------------     
  $skillapproot/messages/add_label:
    post:
      title: Add Label to Email
      operationId: AddLabel
      summary: Adds a label to an email if you know the message Id from a QueryEmailsResponse.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddLabelToMessageRequest"
        required: true  
### ---------------------------------------------------------------------------     
  $skillapproot/messages/query_add_label:
    post:
      title: Query and Add Label to Emails
      operationId: QueryAndAddLabelToEmails
      summary: Search for one or more emails and adds a label to them.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QueryAndAddLabelToEmailsRequest"
        required: true       
### --------------------------------------------------------------------------- 
  $skillapproot/messages/remove_label:
    post:
      title: Remove Label from Email
      operationId: RemoveLabel
      summary: Removes a label from an email if you know the message Id from a QueryEmailsResponse.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RemoveLabelFromMessageRequest"
        required: true  
### ---------------------------------------------------------------------------  
  $skillapproot/messages/query_remove_label:
    post:
      title: Query and Remove Label from Emails
      operationId: QueryAndRemoveLabelFromEmails
      summary: Search for one or more emails and removes a label from them.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'  
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QueryAndRemoveLabelFromEmailsRequest"
        required: true 
### ===========================================================================
### COMPONENTS=================================================================
### ===========================================================================    
components:
  schemas:   
### ++++++++++++++++++++++++++++++++++++++++++++++++++++      
    ServerResponse:  
      type: object
      properties: 
        messageFromServer:   
          title: Message from Server
          type: string    
          description: A success or error message.  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    GMailMessage:
      title: Gmail Message
      type: object
      properties:   
        id:
          title: Id
          type: string  
          description: The Id of the message. This Id can be used to call ReplyEmail, ForwardEmail, AddLabel, and RemoveLabel operations
        from:
          title: From
          type: string
        subject:
          title: Subject
          type: string
        body:
          title: Body
          type: string  
        received:
          title: Received
          type: string  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    GMailThread:
      title: Gmail Thread
      type: object
      properties:    
        id:
          title: Id
          type: string   
          description: The Id of the message. This Id can be used to call ReplyEmail, ForwardEmail, AddLabel, and RemoveLabel operations
        threadId:
          title: Thread Id
          type: string    
        from:
          title: From
          type: string
        subject:
          title: Subject
          type: string
        body:
          title: Body
          type: string  
        received:
          title: Received Date
          type: string  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++  
    QueryEmailsResponse:
      title: Contains a list of GMailMessage objects   
      allOf:
        - $ref: '#/components/schemas/ServerResponse'
      type: object
      properties:   
        emailMessages:
          type: array
          items:
            $ref: "#/components/schemas/GMailMessage"
          description: The list of email messages, each with an id, subject, body, and received date   
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    QueryEmailThreadsResponse:    
      allOf:
        - $ref: '#/components/schemas/ServerResponse'
      type: object
      properties:  
        emailThreads:
          type: array
          items:
            $ref: "#/components/schemas/GMailThread"
          description: The list of email threads.   
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    SearchFilters:
      title: Parameters to search for emails.
      type: object
      properties:
        from:   
          title: From
          type: string    
          description: Only return emails containing this string in the "From".
        to:      
          title: To
          type: string    
          description: Only return emails containing this string in the "To". 
        subject:       
          title: Subject 
          type: string    
          description: Only return emails containing this string in the "Subject".
        body:           
          title: Body
          type: string    
          description: Only return emails containing this string in the "Body".
        begin_time:    
          title: Begin Time 
          type: string    
          description: Only return emails older than this date.
        end_time:       
          title: End Time 
          type: string    
          description: Only return emails newer than this date.
        label:          
          title: Label
          type: string    
          description: Only return emails with this label.  
        status:          
          title: Status
          type: string    
          description: Only return emails with status of "starred", "snoozed", "read", or "unread".
          pattern: ^(starred|snoozed|read|unread)$    
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    SendEmailRequest:
      title: Parameters to send a new email.   
      required:
        - body
      type: object
      properties:                         
        to:      
          title: To
          type: string    
          description: The email address of the recipient.
        cc:      
          title: CC
          type: string    
          description: One or more email addresses for the CC field of the message.
        bcc:      
          title: BCC
          type: string    
          description: One or more email addresses for the BCC field of the message.
        subject:       
          title: Subject 
          type: string    
          description: The subject of the email.
        body:           
          title: Body
          type: string    
          description: The body of the email.   
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    ReplyToEmailRequest:
      title: Parameters to send a new email reply.   
      required:  
        - id
        - body
      type: object
      properties: 
        id:       
          title: Id 
          type: string    
          description: The Id of an email obtained from a request to the QueryEmails operation. 
        new_subject:       
          title: New Subject 
          type: string    
          description: A new "Subject" for the reply email.
        new_body:           
          title: New Body
          type: string    
          description: A new "Body" for the reply email.  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    QueryAndReplyToEmailsRequest:
      title: Parameters to search for one or more emails and send a reply as a single operation.     
      allOf:
        - $ref: '#/components/schemas/ServerResponse'
      required:  
        - new_body    
      type: object
      properties:
        new_subject:       
          title: New Subject 
          type: string    
          description: A new "Subject" for the reply email.
        new_body:           
          title: New Body
          type: string    
          description: A new "Body" for the reply email.  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++             
    QueryAndForwardEmailsRequest:
      title: Parameters to search for one or more emails and forward them as a single operation.     
      allOf:
        - $ref: '#/components/schemas/ServerResponse'
      required:  
        - new_to    
      type: object
      properties:      
        new_to:       
          title: New To
          type: string    
          description: The "To" email address to send a copy of the email(s) to.
        new_cc:   
          title: New CC
          type: string    
          description: One or more email addresses for the CC field to send a copy of the email(s) to.
        new_bcc:      
          title: New BCC
          type: string    
          description: One or more email addresses for the BCC field to send a copy of the email(s) to. 
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    ForwardEmailRequest:
      title: Parameters to forward an email to one or more recipients.   
      required:
        - id
        - new_to
      type: object
      properties: 
        id:       
          title: Id 
          type: string    
          description: The Id of an email obtained from a request to the QueryEmails operation.     
        new_to:       
          title: New To
          type: string    
          description: The "To" email address to send a copy of the email(s) to.
        new_cc:   
          title: New CC
          type: string    
          description: One or more email addresses for the CC field to send a copy of the email(s) to.
        new_bcc:      
          title: New BCC
          type: string    
          description: One or more email addresses for the BCC field to send a copy of the email(s) to. 
### ++++++++++++++++++++++++++++++++++++++++++++++++++++  
    AddLabelToMessageRequest:
      title: Parameters to add a label to an email.   
      required:
        - id
        - add_label
      type: object
      properties: 
        id:       
          title: Id 
          type: string    
          description: The Id of an email obtained from a request to the QueryEmails operation.     
        add_label:       
          title: Add Label
          type: string    
          description: The name of a label to add to the email. If the label does not exist, it will be created first.
### ++++++++++++++++++++++++++++++++++++++++++++++++++++
    QueryAndAddLabelToEmailsRequest:
      title: Parameters to search for one or more emails and add a label to them.     
      allOf:
        - $ref: '#/components/schemas/ServerResponse'
      required:  
        - add_label    
      type: object
      properties:    
        add_label:   
          title: Add Label
          type: string    
          description: The name of a label to add to the email message(s).  
### ++++++++++++++++++++++++++++++++++++++++++++++++++++  
    RemoveLabelFromMessageRequest:
      title: Parameters to remove a label from an email.   
      required:
        - id
        - remove_label
      type: object
      properties: 
        id:       
          title: Id 
          type: string                                                                        
          description: The Id of an email obtained from a request to the QueryEmails operation.     
        remove_label:       
          title: Remove Label
          type: string    
          description: The name of a label to remove from the email.
### ++++++++++++++++++++++++++++++++++++++++++++++++++++                      
    QueryAndRemoveLabelFromEmailsRequest:
      title: Parameters to search for one or more emails and remove a label from them.     
      allOf:
        - $ref: '#/components/schemas/ServerResponse' 
      required:  
        - remove_label    
      type: object
      properties:    
        remove_label:   
          title: Remove Label
          type: string    
          description: The name of a label to remove from the email message(s).